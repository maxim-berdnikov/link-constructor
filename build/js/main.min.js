"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".js-result-link-ics"),n={ok:"1",ics:"Ссылк на ICS календарь",google:"Ссылка на google календарь",start:"28.09.2018 00:00",title:"Заголовок события",json:"json-строка со всеми переданными параметрами календаря"},t="";new JustValidate(".js-form",{rules:{title:{required:!0},desc:{required:!0},start:{required:!0},end:{required:!0},month:{required:!0},day:{required:!0},id:{required:!0}},submitHandler:function(o,r,i){(function(e,n){return new Promise((function(t,o){n({url:window.shortUrl,method:"GET",data:"https://live.skillbox.ru/calendar/?direction=".concat(e.direction),async:!0,callback:function(e){t(e)}})}))})(r,i).then((function(e){return e}),(function(e){console.log("Rejected: "+e)})).then((function(e){return new Promise((function(e,t){setTimeout((function(){e(n)}),500)}))}),(function(e){console.log("Rejected: "+e)})).then((function(n){var o;return o=(t=n).ics,e.value=o,console.log(t)}),(function(e){console.log("Rejected: "+e)}))}})}));